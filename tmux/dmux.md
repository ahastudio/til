# dmux

AI 코딩 에이전트를 병렬로 실행하는
개발 에이전트 멀티플렉서(Dev Agent Multiplexer).
tmux와 Git worktree를 활용하여 여러 에이전트가
격리된 환경에서 동시에 작업할 수 있게 한다.

<https://dmux.ai>

<https://github.com/standardagents/dmux>

## 핵심 개념

dmux는 새 tmux 페인을 만들 때마다 Git worktree를
자동 생성한다. 각 페인은 독립된 작업 디렉토리와
브랜치를 가지므로 에이전트 간 충돌이 발생하지 않는다.

```txt
[dmux 세션]
├── 페인 1: feature/add-dashboard (worktree A)
│   └── Claude Code 실행 중
├── 페인 2: fix/memory-leak (worktree B)
│   └── Codex 실행 중
└── 페인 3: refactor/auth (worktree C)
    └── OpenCode 실행 중
```

## 설치

```bash
npm install -g dmux
```

### 요구사항

- tmux 3.0+
- Node.js 18+
- Git 2.20+
- AI 에이전트 (Claude Code, Codex, OpenCode 중 하나)
- OpenRouter API 키 (선택 사항, AI 브랜치 이름 생성용)

## 사용법

프로젝트 디렉토리에서 `dmux` 명령어로 시작한다.

### 기본 워크플로우

1. `dmux`로 세션 시작
2. `n`을 눌러 새 페인 생성 (프롬프트 입력)
3. 에이전트가 격리된 worktree에서 작업 수행
4. 작업 완료 후 `m`을 눌러 메인 브랜치에 병합

### 단축키

| 키          | 설명                     |
| ----------- | ------------------------ |
| `n`         | 새 에이전트 페인 생성    |
| `t`         | 터미널 페인 생성         |
| `j`/`Enter` | 페인 간 이동             |
| `m`         | 현재 페인을 메인에 병합  |
| `x`         | 페인 닫기                |
| `p`         | 다른 프로젝트 열기       |
| `s`         | 설정                     |
| `q`         | 종료                     |

## 주요 기능

**Worktree 격리.**
각 페인이 독립된 Git worktree에서 동작한다.
에이전트끼리 파일 충돌 없이 동시 작업이 가능하다.

**A/B 테스트.**
동일한 프롬프트를 서로 다른 에이전트에게 동시에
줄 수 있다. 결과물을 나란히 비교할 수 있다.

**AI 자동화.**
브랜치 이름과 커밋 메시지를 AI가 자동 생성한다.
OpenRouter API 키가 필요하다.

**스마트 병합.**
`m` 키 하나로 자동 커밋, 메인 병합, worktree 정리가
한번에 이루어진다.

**멀티 프로젝트.**
하나의 dmux 세션에서 여러 저장소를 관리할 수 있다.

**라이프사이클 훅(Lifecycle Hooks).**
worktree 생성, 병합 전/후 등 주요 시점에 커스텀
스크립트를 실행할 수 있다.

## 인사이트

**에이전트 시대의 tmux.**
tmux는 원래 사람이 여러 터미널을 관리하기 위한
도구였다. dmux는 이 개념을 AI 에이전트 관리로
확장한다. 사람 대신 에이전트가 각 페인에서 작업하고,
사람은 오케스트레이터가 된다.

**Git worktree의 재발견.**
Git worktree는 오랫동안 잘 알려지지 않은 기능이었다.
AI 에이전트가 동시에 여러 작업을 수행하려면
격리된 작업 디렉토리가 필수인데,
worktree가 이 문제를 정확히 해결한다.
dmux 덕분에 worktree가 주목받게 되었다.

**병렬 개발의 병목은 코딩이 아니라 병합이다.**
여러 에이전트가 동시에 코드를 작성하는 것은
기술적으로 어렵지 않다.
진짜 어려운 부분은 결과물을 하나로 합치는 것이다.
dmux의 스마트 병합은 이 문제를 단순화하지만,
복잡한 충돌은 여전히 사람의 판단이 필요하다.

**A/B 테스트가 가능한 코딩.**
같은 작업을 여러 에이전트에게 맡기고
결과를 비교할 수 있다는 것은
코드 리뷰의 새로운 패러다임이다.
"이 방법이 최선인가?"라는 질문에
실제 구현체를 비교하며 답할 수 있다.
