# Clean Code JavaScript

<https://github.com/ryanmcdermott/clean-code-javascript>

Robert C. Martin의 *Clean Code* 원칙을 JavaScript에 적용한
가이드. "읽기 쉽고, 재사용 가능하고, 리팩터링 가능한" 코드를
목표로 한다.

## 요약

변수, 함수, 객체/자료구조, 클래스, SOLID, 테스트,
동시성, 에러 처리, 포맷팅, 주석의 10개 영역을 다룬다.
각 영역마다 Bad/Good 코드 예시를 제시하며,
"규칙"이 아니라 "가이드라인"임을 강조한다.

| 영역             | 핵심 메시지                       |
|------------------|-----------------------------------|
| 변수             | 이름이 의도를 드러내야 한다       |
| 함수             | 하나의 일만, 인자는 2개 이하      |
| 객체/자료구조    | getter/setter로 캡슐화           |
| 클래스           | ES6 class, 합성 우선              |
| SOLID            | 5원칙의 JS 실전 적용              |
| 테스트           | 테스트 하나에 개념 하나           |
| 동시성           | Promise → async/await             |
| 에러 처리        | 에러를 삼키지 마라                |
| 포맷팅           | 호출자와 피호출자를 가까이        |
| 주석             | 코드로 표현하라, 주석은 최후 수단 |

## 인사이트

### 이름 짓기는 설계 행위다

변수명을 잘 못 짓겠다면 설계를 이해하지 못한 것이다.
`d`가 아니라 `elapsedTimeInDays`라고 쓰는 순간,
코드를 읽는 사람은 "무엇을"이 아니라 "왜"에 집중할 수
있다. 이름 짓기의 어려움은 설계의 어려움과 같다.

### 플래그 인자는 SRP 위반의 증거다

`createFile(name, temp)` 같은 boolean 파라미터는
함수가 두 가지 일을 한다는 것을 자백하는 것이다.
플래그를 발견하면 함수를 분리하라.
이것은 코딩 스타일이 아니라 설계 원칙이다.

### 부수 효과는 "제거"가 아니라 "중앙화"다

현실의 프로그램은 파일을 쓰고, 네트워크를 호출하고,
상태를 변경한다. 부수 효과를 없앨 수는 없다.
이 가이드가 말하는 것은 부수 효과가 일어나는
지점을 하나로 모으라는 것이다.
흩어진 부수 효과는 버그의 온상이다.

### 추상화 수준의 혼재가 혼란의 근원이다

하나의 함수 안에 고수준 로직(`getUser`)과
저수준 로직(`response.body.parse()`)이 섞여 있으면
읽는 사람의 인지 부하가 급격히 증가한다.
함수 내 모든 코드의 추상화 수준을 맞추는 것이
가독성의 핵심이다.

### "상속 vs 합성"의 판단 기준은 명확하다

- has-a 관계 → 합성 (예: User가 Tax 전략을 가짐)
- is-a 관계 → 상속 (예: Human은 Animal이다)

대부분의 경우 합성이 옳다.
상속이 필요하다고 느낄 때 한 번 더 생각하라.

### 타입 체크 대신 일관된 API를 설계하라

`typeof`나 `instanceof`로 분기하는 코드는
다형성(polymorphism)으로 대체할 수 있다.
타입 체크가 필요하다면 TypeScript를 쓰라.
런타임 타입 체크는 설계 부재의 증거다.

### 에러를 `console.log`만 하는 것은 무시하는 것이다

```javascript
// Bad
try {
  doSomething();
} catch (error) {
  console.log(error);  // 이게 전부?
}
```

catch 블록에서 `console.log`만 하면
에러가 터미널의 로그 바다에 빠져 사라진다.
에러를 잡았다면 복구하거나, 사용자에게 알리거나,
모니터링 시스템에 보고하라.

### 죽은 코드를 삭제하는 용기를 가져라

"나중에 쓸지도 몰라서" 남겨둔 코드는
읽는 사람에게 소음이 된다.
Git이 있다. 언제든 되살릴 수 있다.
주석 처리된 코드도 마찬가지다. 삭제하라.

### 주석은 코드의 표현력 부족을 보상하는 것이다

좋은 코드는 주석 없이도 의도가 드러난다.
주석이 필요하다고 느끼면 먼저 코드를 개선할 수
없는지 생각하라. 주석을 써야 한다면
"무엇을(what)"이 아니라 "왜(why)"를 쓰라.

### 클린 코드는 첫 번째 시도에서 나오지 않는다

> Not all code has to be perfect when it is first written.

이 가이드의 마지막 메시지가 가장 중요하다.
처음부터 완벽한 코드는 없다.
코드 리뷰와 리팩터링을 통해 다듬어진다.
"완벽한 첫 번째 코드"에 대한 강박을 버려라.
