# Chunk Translator 분석

원문: <https://github.com/winterjung/chunk-translator>
사이트: <https://translate.winterjung.dev/>
GeekNews: <https://news.hada.io/topic?id=26628>

## 요약

긴 글을 LLM에 통째로 넣으면 문장이 빠지거나 과하게 요약되는
문제가 있다.
Chunk Translator는 원문을 청크 단위로 나눠 번역한 뒤 다시
합쳐서 이 문제를 줄이는 정적 웹 도구다.
서버 없이 브라우저에서만 동작하며 API 키는 사용자가 설정한
제공자로만 전송된다.

## 작동 흐름

```
원문 입력 → 청킹 생성 → (선택) 요약 생성 → 병렬 번역 → 결과 병합
```

1. **원문 입력**: 번역할 텍스트를 붙여넣는다.
2. **청킹**: 문단 → 문장 단위로 분할한 뒤 800자 기준으로
   병합한다. 후행 마크다운 제목은 다음 청크로 이동시킨다.
3. **요약**: 전체 맥락을 요약해 각 청크 번역 시 컨텍스트로
   함께 전달한다. 이것이 청크 간 일관성을 유지하는 핵심이다.
4. **병렬 번역**: 동시 요청 수(1-8)를 조절하며 청크를 병렬
   처리한다. 스트리밍 응답을 지원한다.
5. **재번역**: 어색한 청크에 지시를 추가해 개별 재번역할 수
   있다.

## 기술 구현의 특징

| 항목           | 선택               | 비고                          |
|----------------|--------------------|-------------------------------|
| 프레임워크     | 없음(Vanilla JS)   | 빌드 단계 불필요              |
| 문장 분할      | `Intl.Segmenter`   | 브라우저 내장 API 활용        |
| 상태 저장      | `localStorage`     | 설정·초안 자동 저장           |
| 스트리밍       | SSE 파싱           | 실시간 번역 결과 표시         |
| ID 생성        | `crypto.randomUUID`| 외부 의존성 없음              |
| API 호환       | OpenAI 호환 형식   | Gemini, OpenRouter 등 지원    |

전체 프로젝트가 `index.html`, `styles.css`, `app.js` 세
파일로 구성된다.
의존성이 전혀 없어서 `npx live-server`만으로 개발할 수 있다.

## 인사이트

### 1) 요약 컨텍스트가 청크 번역의 품질을 결정한다

청킹만으로는 문맥이 끊기는 문제를 해결할 수 없다.
각 청크 번역 시 전체 요약을 함께 전달하는 설계가 핵심이다.
이를 통해 용어 통일과 문맥 연결이 가능해진다.
요약 모델과 번역 모델을 분리해서 비용도 조절할 수 있다.

### 2) 제로 의존성은 의도적인 설계 결정이다

React나 Vue 없이 Vanilla JS로 구현한 것은 단순함을
위한 선택이 아니다.
번역 도구의 핵심 가치는 UI 프레임워크가 아니라 청킹
알고리즘과 프롬프트 설계에 있다.
의존성이 없으면 유지보수 부담이 줄고, GitHub Pages로
즉시 배포할 수 있다.
실제로 이 도구는 세 파일만으로 완전히 동작하는 제품이다.

### 3) 프라이버시와 사용성을 동시에 잡았다

서버를 두지 않는 구조는 "API 키가 외부로 유출되지 않는다"는
신뢰를 준다.
사용자가 직접 Base URL과 API 키를 설정하는 방식이므로
OpenAI, Gemini, OpenRouter, Ollama 등 어떤 제공자든
사용할 수 있다.
이것은 특정 벤더에 종속되지 않는 유연한 구조다.

### 4) 비용 가시성이 사용자 행동을 바꾼다

토큰 사용량과 비용을 실시간으로 보여주는 UI는 단순한
편의 기능이 아니다.
모델별 단가를 직접 입력하게 하고, 요약과 번역 각각의
비용을 분리 표시함으로써 사용자가 모델 선택과 청크
크기를 의식적으로 조절하게 만든다.

### 5) 재번역 기능이 사람-AI 협업의 접점이다

전체를 다시 돌리지 않고 개별 청크에 지시를 추가해
재번역하는 기능은, 번역 작업을 "한 번에 끝내는 것"이
아니라 "점진적으로 다듬는 것"으로 바꾼다.
이것은 AI 번역에서 사람의 역할을 감수가 아닌 협업
지시자로 재정의한다.

## 적용 아이디어

- 긴 기술 문서나 논문 번역에 바로 사용할 수 있다.
- 청킹 + 요약 컨텍스트 패턴은 번역 외에도 대규모
  텍스트를 LLM으로 처리하는 모든 작업에 응용 가능하다.
- Ollama 지원으로 로컬 모델과 조합하면 완전한
  오프라인 번역 환경도 구성할 수 있다.
