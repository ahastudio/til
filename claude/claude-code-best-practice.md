# Claude Code Best Practice

## TOC

- 1. 한 줄 요약
- 2. 핵심 원칙
  - 2-1. 세션은 기억하지 않는다, 파일은 기억한다
  - 2-2. 자유도를 줄일수록 품질이 오른다
  - 2-3. Plan-Execute-Verify를 분리한다
  - 2-4. 큰 작업은 병렬화하고, 책임은 직렬화한다
  - 2-5. AI를 신뢰하지 말고, 시스템을 신뢰하라
- 3. 팀 적용 프레임워크
  - 3-1. 저장소 루트 표준 파일
  - 3-2. 작업 티켓 템플릿
  - 3-3. 리뷰 템플릿
- 4. 자주 발생하는 안티패턴
  - 4-1. "알아서 해줘"
  - 4-2. 첫 결과물에 집착
  - 4-3. 검증 생략
- 5. 실무 인사이트
  - 5-1. 프롬프트 엔지니어링보다 운영 엔지니어링
  - 5-2. AI 도입의 병목은 기술이 아니라 합의
  - 5-3. 개인 최적화는 빠르고, 팀 최적화는 오래 간다
  - 5-4. 생산성의 핵심은 "정답 생성"이 아니라 "재작업 감소"
- 6. 바로 적용 가능한 운영 체크리스트
- 7. 관련 문서

이 문서는 Claude Code 운영 원칙을 팀 실무 관점에서 정리한 노트다.

## 1. 한 줄 요약

Claude Code의 생산성은 모델 성능보다 **운영 체계**가 결정한다.
좋은 결과는 "좋은 질문"이 아니라
**좋은 컨텍스트 + 좋은 제약 + 좋은 검증 루프**에서 나온다.

## 2. 핵심 원칙

### 2-1. 세션은 기억하지 않는다, 파일은 기억한다

에이전트는 세션이 바뀌면 맥락을 잃는다.
따라서 지식은 대화가 아니라 파일에 축적해야 한다.

- 규칙: `AGENTS.md`
- 목표/범위: `TASK.md`
- 장기 맥락: `MEMORY.md`
- 반복 절차: `SKILL.md`

핵심은 "잘 시키기"가 아니라
"다음 세션에서도 같은 판단을 하게 만들기"다.

### 2-2. 자유도를 줄일수록 품질이 오른다

대부분의 실패는 모델이 멍청해서가 아니라,
요청이 열려 있어 해석 분기가 커지기 때문에 발생한다.

- 출력 형식 지정 (예: 표, 체크리스트, diff 요약)
- 완료 조건 지정 (예: 테스트 통과, 문서 반영)
- 금지 조건 지정 (예: 추측 금지, 임의 리팩터 금지)

프롬프트는 "아이디어"가 아니라
**실행 계약(execution contract)**이어야 한다.

### 2-3. Plan-Execute-Verify를 분리한다

한 번에 "생각+구현+검증"을 시키면 누락이 생긴다.
실무에서는 단계를 분리해야 안정적이다.

1. Plan: 접근법, 영향 범위, 리스크 명시
2. Execute: 승인된 범위만 수정
3. Verify: 테스트/정적 점검/문서 일치 확인

특히 Verify는 "가능하면"이 아니라
"항상" 실행되는 기본 단계여야 한다.

### 2-4. 큰 작업은 병렬화하고, 책임은 직렬화한다

서브에이전트 병렬 실행은 리서치/초안 생산에 강하다.
하지만 최종 의사결정과 머지는 단일 책임자로 직렬화해야 한다.

- 병렬: 조사, 대안 비교, 초안 생성
- 직렬: 우선순위 결정, 최종 diff 검수, merge

이 패턴을 지키면 속도와 일관성을 동시에 얻는다.

### 2-5. AI를 신뢰하지 말고, 시스템을 신뢰하라

"잘하겠지" 기대는 사고를 만든다.
재현 가능한 체크포인트가 진짜 안전장치다.

- 변경 전/후 테스트
- 실패 시 롤백 경로 명시
- 위험 명령 승인 정책
- 커밋 전 diff 검토 습관

신뢰 대상은 모델의 직감이 아니라
**검증 가능한 프로세스**다.

## 3. 팀 적용 프레임워크

### 3-1. 저장소 루트 표준 파일

- `AGENTS.md`: 응답 언어, 금지사항, 작업 규칙
- `CONTRIBUTING.md`: 브랜치/커밋/PR 규약
- `docs/ai-playbook.md`: 프롬프트 패턴, 사례, 안티패턴

개인이 잘하는 것보다,
팀이 같은 방식으로 재현 가능하게 일하는 것이 중요하다.

### 3-2. 작업 티켓 템플릿

아래 항목을 티켓 템플릿으로 고정하면 품질 편차가 줄어든다.

- 배경/목표
- 완료 조건 (Definition of Done)
- 비목표 (Out of Scope)
- 검증 방법 (테스트/수동 확인)
- 롤백 전략

AI에게 티켓을 읽히는 순간,
요구사항이 이미 구조화되어 있어야 한다.

### 3-3. 리뷰 템플릿

리뷰를 "느낌"이 아닌 "체크"로 바꾸면 속도가 빨라진다.

- 요구사항 충족 여부
- 예외/실패 경로 반영 여부
- 테스트 신뢰도
- 문서/코드 불일치 여부
- 운영 리스크 (성능/보안/관찰성)

## 4. 자주 발생하는 안티패턴

### 4-1. "알아서 해줘"

문제: 범위가 무한 확장되고,
불필요한 추상화나 과한 리팩터가 섞인다.

처방: 출력 형식, 수정 파일 범위,
금지 작업을 명시한다.

### 4-2. 첫 결과물에 집착

문제: 품질이 낮은 초안 위에 패치를 반복하며
복잡성만 증가한다.

처방: 실패 신호가 보이면 Plan 단계로 되돌린다.
필요하면 "처음부터 다시"를 명시한다.

### 4-3. 검증 생략

문제: 데모는 되지만 운영에서 깨진다.

처방: 테스트/린트/스모크 체크를
완료 조건에 강제 포함한다.

## 5. 실무 인사이트

### 5-1. 프롬프트 엔지니어링보다 운영 엔지니어링

초기에는 좋은 문장을 찾으려 하지만,
장기적으로는 체크리스트, 템플릿, 메모리 파일 같은
운영 장치가 성과를 만든다.

### 5-2. AI 도입의 병목은 기술이 아니라 합의

모델 성능은 이미 충분히 높다.
실패 지점은 "팀이 무엇을 좋은 결과로 보는가"에 대한
합의 부재다.

즉, AI 도입은 도구 도입이 아니라
**품질 기준의 명문화 작업**이다.

### 5-3. 개인 최적화는 빠르고, 팀 최적화는 오래 간다

개인 프롬프트는 빠른 승리를 만든다.
하지만 인수인계, 온보딩, 협업을 고려하면
문서화된 팀 규칙이 총비용을 낮춘다.

### 5-4. 생산성의 핵심은 "정답 생성"이 아니라 "재작업 감소"

에이전트가 한 번에 완벽한 답을 내는 일은 드물다.
진짜 생산성은 재작업을 줄이는 데서 나온다.

- 처음부터 명확한 완료 조건
- 중간 검증 포인트
- 실패 시 빠른 되돌림

## 6. 바로 적용 가능한 운영 체크리스트

- [ ] 루트에 `AGENTS.md`가 있고 최신 상태인가?
- [ ] 반복 작업이 `SKILL.md`로 분리되었는가?
- [ ] 티켓에 완료 조건/비목표/검증이 명시되었는가?
- [ ] 변경 전/후 테스트 명령이 합의되었는가?
- [ ] 커밋 전 `git diff --staged` 검토가 습관화되었는가?
- [ ] PR 설명에 "무엇"보다 "왜"가 포함되는가?

## 7. 관련 문서

- [Claude Code](./claude-code.md)
- [Claude Skills](./skills.md)
- [Planning with Files](./planning-with-files.md)
- [Karpathy-Inspired Claude Guidelines]
  (../ai/karpathy-inspired-claude-guidelines.md)
